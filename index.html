<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAAR Company - Index</title>
    <link rel="stylesheet" href="/styles/index.css">
    <link rel="stylesheet" href="/styles/template.css">
</head>

<body>

    <main>
        <div id="page_index__header">
            <img src="/images/maarlogo.svg" width="220px">
            <img src="/images/menu_button.png" id="menu_button" class="button" />
        </div>
        <div id="page_index__main"></div>
    </main>

    


    <script id="load_menu">
        document.addEventListener("DOMContentLoaded", () => {

            // Verifica se o elemento 'menu_overlay' já existe
            if (!document.getElementById('menu_overlay')) {
                // Cria o elemento menu_overlay
                var menuOverlay = document.createElement('div');
                menuOverlay.setAttribute('id', 'menu_overlay');
                menuOverlay.style.position = "fixed";
                menuOverlay.style.zIndex = 5;
                menuOverlay.style.display = "none";
                menuOverlay.style.top = "-100vh";
                menuOverlay.style.left = 0;
                menuOverlay.style.transition = "top 0.5s ease-in";
                menuOverlay.style.willChange = "top";
                document.body.appendChild(menuOverlay);
            }

            const menuButton = document.getElementById("menu_button");

            menuButton.addEventListener("click", (event) => {
                event.preventDefault();
                fetch("/menu.html")
                    .then(response => response.text())
                    .then(htmlString => {

                        menuOverlay.innerHTML = htmlString;
                        menuOverlay.style.display = "block";
                        menuOverlay.offsetHeight;
                        menuOverlay.style.top = "0";

                        // Inicializa o menu
                        const scriptsJs = menuOverlay.querySelector("script");
                        if (scriptsJs) {
                            const scriptContent = scriptsJs.textContent;
                            eval(scriptContent);
                            menuItems(document.querySelector("html"));

                        } else {
                            console.error("Função 'menuItems' não encontrada!");
                        }
                    })
                    .catch(error => console.error("Erro ao carregar a página:", error));
            });
        });
    </script>

</body>

</html>